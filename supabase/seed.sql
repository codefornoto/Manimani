-- 既存のデータをクリア（外部キー制約を考慮した順序）
TRUNCATE TABLE tweet_hashtags CASCADE;
TRUNCATE TABLE tweets CASCADE;
TRUNCATE TABLE hashtags CASCADE;
TRUNCATE TABLE profiles CASCADE;

-- auth.usersテーブルにユーザーを作成
INSERT INTO auth.users (id, email, encrypted_password, email_confirmed_at, created_at, updated_at)
VALUES
  ('00000000-0000-0000-0000-000000000001', 'yamada@example.com', crypt('password123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('00000000-0000-0000-0000-000000000002', 'sato@example.com', crypt('password123', gen_salt('bf')), NOW(), NOW(), NOW()),
  ('00000000-0000-0000-0000-000000000003', 'suzuki@example.com', crypt('password123', gen_salt('bf')), NOW(), NOW(), NOW())
ON CONFLICT (id) DO NOTHING;

-- サンプルユーザーの作成（既に存在する場合はスキップ）
INSERT INTO profiles (id, name, username, avatar_url, bio, created_at)
VALUES
  ('00000000-0000-0000-0000-000000000001', '山田太郎', 'yamada_taro', '/images/default-avatar.png', 'プログラマーです。', NOW()),
  ('00000000-0000-0000-0000-000000000002', '佐藤花子', 'sato_hanako', '/images/default-avatar.png', 'デザイナーです。', NOW()),
  ('00000000-0000-0000-0000-000000000003', '鈴木一郎', 'suzuki_ichiro', '/images/default-avatar.png', 'エンジニアです。', NOW())
ON CONFLICT (id) DO NOTHING;

-- ハッシュタグの追加
INSERT INTO hashtags (id, name)
VALUES
  ('00000000-0000-0000-0000-000000000101', '能登'),
  ('00000000-0000-0000-0000-000000000102', '和倉'),
  ('00000000-0000-0000-0000-000000000103', '門前'),
  ('00000000-0000-0000-0000-000000000104', '輪島'),
  ('00000000-0000-0000-0000-000000000105', '珠洲'),
  ('00000000-0000-0000-0000-000000000106', '穴水'),
  ('00000000-0000-0000-0000-000000000107', '志賀'),
  ('00000000-0000-0000-0000-000000000108', '七尾'),
  ('00000000-0000-0000-0000-000000000109', '能登島'),
  ('00000000-0000-0000-0000-000000000110', '能登町');

-- ツイートの追加
INSERT INTO tweets (id, user_id, content, created_at, updated_at)
VALUES
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000001', '能登半島の絶景ポイントを巡る旅。海と空の青さが心を癒してくれます。 #能登', NOW() - INTERVAL '5 days', NOW() - INTERVAL '5 days'),
  ('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000002', '和倉温泉でゆっくりと過ごす休日。露天風呂からの眺めが最高です。 #和倉 #能登', NOW() - INTERVAL '4 days', NOW() - INTERVAL '4 days'),
  ('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000003', '門前町の古い町並みを散策。歴史を感じる素敵な街並みです。 #門前 #能登', NOW() - INTERVAL '4 days', NOW() - INTERVAL '4 days'),
  ('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000001', '能登の海鮮丼、絶品でした！新鮮な海の幸がたっぷり。 #能登', NOW() - INTERVAL '3 days', NOW() - INTERVAL '3 days'),
  ('00000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000002', '和倉温泉の足湯で一休み。疲れが癒されます。 #和倉', NOW() - INTERVAL '3 days', NOW() - INTERVAL '3 days'),
  ('00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000003', '能登の伝統工芸品、輪島塗の美しさに感動。職人の技が光ります。 #能登', NOW() - INTERVAL '2 days', NOW() - INTERVAL '2 days'),
  ('00000000-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000001', '門前の朝市で地元の新鮮な野菜を購入。地元の方々との会話も楽しい。 #門前', NOW() - INTERVAL '2 days', NOW() - INTERVAL '2 days'),
  ('00000000-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000002', '能登の夕日が美しい。海に沈む太陽の光景は格別です。 #能登', NOW() - INTERVAL '1 day', NOW() - INTERVAL '1 day'),
  ('00000000-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000003', '和倉温泉の老舗旅館に宿泊。心から癒される時間を過ごせました。 #和倉', NOW() - INTERVAL '1 day', NOW() - INTERVAL '1 day'),
  ('00000000-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000001', '能登の海の幸、特にイカが絶品！新鮮な刺身は格別です。 #能登', NOW() - INTERVAL '12 hours', NOW() - INTERVAL '12 hours'),
  ('00000000-0000-0000-0000-000000000011', '00000000-0000-0000-0000-000000000002', '門前の古い神社を参拝。静寂な空間で心が落ち着きます。 #門前', NOW() - INTERVAL '10 hours', NOW() - INTERVAL '10 hours'),
  ('00000000-0000-0000-0000-000000000012', '00000000-0000-0000-0000-000000000003', '能登の田舎道をドライブ。のどかな風景が続きます。 #能登', NOW() - INTERVAL '8 hours', NOW() - INTERVAL '8 hours'),
  ('00000000-0000-0000-0000-000000000013', '00000000-0000-0000-0000-000000000001', '和倉温泉の足湯カフェで一休み。地元の特産品も購入できて便利。 #和倉', NOW() - INTERVAL '6 hours', NOW() - INTERVAL '6 hours'),
  ('00000000-0000-0000-0000-000000000014', '00000000-0000-0000-0000-000000000002', '能登の海の幸を使った郷土料理、どれも美味しかったです。 #能登', NOW() - INTERVAL '4 hours', NOW() - INTERVAL '4 hours'),
  ('00000000-0000-0000-0000-000000000015', '00000000-0000-0000-0000-000000000003', '門前の古い町並みで見つけた隠れ家的なカフェ。素敵な空間でした。 #門前', NOW() - INTERVAL '2 hours', NOW() - INTERVAL '2 hours');

-- ツイートとハッシュタグの関連付け
INSERT INTO tweet_hashtags (tweet_id, hashtag_id)
VALUES
  -- 能登タグのツイート
  ('00000000-0000-0000-0000-000000000001', '00000000-0000-0000-0000-000000000101'),
  ('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000101'),
  ('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000101'),
  ('00000000-0000-0000-0000-000000000004', '00000000-0000-0000-0000-000000000101'),
  ('00000000-0000-0000-0000-000000000006', '00000000-0000-0000-0000-000000000101'),
  ('00000000-0000-0000-0000-000000000008', '00000000-0000-0000-0000-000000000101'),
  ('00000000-0000-0000-0000-000000000010', '00000000-0000-0000-0000-000000000101'),
  ('00000000-0000-0000-0000-000000000012', '00000000-0000-0000-0000-000000000101'),
  ('00000000-0000-0000-0000-000000000014', '00000000-0000-0000-0000-000000000101'),
  -- 和倉タグのツイート
  ('00000000-0000-0000-0000-000000000002', '00000000-0000-0000-0000-000000000102'),
  ('00000000-0000-0000-0000-000000000005', '00000000-0000-0000-0000-000000000102'),
  ('00000000-0000-0000-0000-000000000009', '00000000-0000-0000-0000-000000000102'),
  ('00000000-0000-0000-0000-000000000013', '00000000-0000-0000-0000-000000000102'),
  -- 門前タグのツイート
  ('00000000-0000-0000-0000-000000000003', '00000000-0000-0000-0000-000000000103'),
  ('00000000-0000-0000-0000-000000000007', '00000000-0000-0000-0000-000000000103'),
  ('00000000-0000-0000-0000-000000000011', '00000000-0000-0000-0000-000000000103'),
  ('00000000-0000-0000-0000-000000000015', '00000000-0000-0000-0000-000000000103');
